@import "drawer-variables";

@if not($enable-framework) {
  @import "license";
}

main {
  display: flex;
  padding-bottom: 1rem;
}

// Base Drawer Style
nav.drawer {
  // Normally, Show Drawer on Screen
  display: flex;
  transform: translateX(0);
  z-index: 1;
  // Footer & Header only show on Temporary
  .drawer-footer, .drawer-header { display: none; }
  // Unified Styles
  min-width:        $drawer-width;
  background-color: color("white");
  position:         relative;
  margin-top: -1.1rem;
  margin-bottom: -1.1rem;
  margin-right: .5rem;
  @include elevation(2);
  flex-direction: column;
  flex: 0 0 auto;
  a.list-group-item, a.account {
    color: $drawer-color;
    text-decoration: none;
    &:hover, &:focus {
      background-color: gray(200);
      color: $drawer-hover-color;
    }
    &:active {
      color: $drawer-active-color;
    }
    &:disabled {
      color: $drawer-disabled-color;
    }
  }
  .list-group-item {
    border-radius: 0;
    padding: .75rem 1.5rem;
    @if component("icons") {
      //noinspection SassScssUnresolvedVariable
      > i.#{$icon-css-prefix} {
        width: (18em / 14);
        font-size: (4em / 3);
        line-height: (3em / 4);
        vertical-align: -15%;
        text-align: left;
        color: $drawer-icon-color;
        margin-right: 1rem;
      }
      //noinspection SassScssUnresolvedVariable
      svg.#{$icon-css-prefix} {
        fill: $drawer-icon-color;
        margin-right: 1rem;
      }
    }
  }
  .drawer-hide { display: none; }
  .drawer-body {
    padding: .5rem 0;
    display: flex;
    flex-direction: column;
    .list-group-item {
      border: none;
      background-color: transparent;
      min-height: 1rem;
      border-radius: 0;
      display: flex;
      flex: 1 0 auto;;
      align-items: center;
    }
    .list-group-item-heading {
      color: lighten($drawer-color, 50%);
      margin-bottom: 0;
      text-transform: uppercase;
      letter-spacing: 2px;
      font-size: .9rem;
    }
    .list-group {
      // Separator between groups
      margin:              .25rem 0 0 0;
      padding-bottom:      .25rem;
      border:              0 solid rgba(color("black"), .125);
      border-top-width: 1px;
      &:first-child {
        border-top-width: 0;
      }
      > li {
        display: flex;
        flex-direction: row;
        align-items: center;
        &.active > a.list-group-item {
          color: $drawer-active-color;
          &:hover, &:focus {
            color: $drawer-hover-color;
          }
        }
      }
    }
  }
}

nav.drawer {
  .drawer-header {
    a.account {
      display: flex;
      align-items: center;
      > .list-unstyled {
        margin-bottom: 0;
      }
      @if component("icons") {
        //noinspection SassScssUnresolvedVariable
        > .#{$icon-css-prefix} {
          margin-left: auto;
          margin-right: -1.25rem;
          opacity: .2;
          flex: 0 1 auto;
        }
      }
    }
  }
}


// Adjusts tabs with drawer
html:not(.temporary) {
  header .nav.nav-tabs {
    padding-left: $drawer-width + space-x(md, unit($drawer-width));
  }
}


// Hides Drawer, Adjusts Tabs
@include media('<xl') {
  html:not(.on):not(.permanent) {
    nav.drawer {
      transform: translateX(-100%);
      display: none;
    }
    header .nav.nav-tabs {
      padding-left: 0;
    }
  }
}

@include media('<lg') {
  html:not(.permanent):not(.persistent) {
    nav.drawer {
      position: fixed;
      top: 0;
      bottom: 0;
      left: 0;
      z-index: const(ZINDEX_MODAL);
      margin-top: 0;
      .drawer-header, .drawer-footer {
        display: flex;
        flex-direction: column;
      }
      .drawer-header {
        flex: 0 0 auto;
        [data-toggle] {
          flex: 1 0 auto;
        }
        .account-item {
          flex: 0 1 auto;
        }
      }
      .drawer-body {
        overflow-y: scroll;
        overflow-x: hidden;
      }
      .drawer-footer {
        margin-top: auto;
        .list-group-item {
          border-width: 0;
          &:first-child {
            border-top-width: 1px;
          }
        }
      }
    }
  }
}

@include media('>lg') {
  html:not(.persistent) {
    .navbar-toggler {
      display: none;
    }
  }
}

nav.drawer + .container-fluid {
  flex: 1 1 auto;
  margin-bottom: 1rem;
  width: auto;
}